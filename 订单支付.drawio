<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="29.2.9">
  <diagram name="订单支付流程图" id="sOGZnKWm9VfNQ5Gg6vGh">
    <mxGraphModel dx="1426" dy="785" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-20" parent="1" style="swimlane;horizontal=0;startSize=30;fillColor=#E8F5E9;strokeColor=#2E7D32;rounded=0;swimlaneFillColor=#FAFAFA;fontSize=12;fontStyle=1;" value="用户/前端" vertex="1">
          <mxGeometry height="360" width="200" x="40" y="40" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-21" parent="HCb5TrEvjDDN4lMyEJhV-20" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#E1F5FE;strokeColor=#01579B;fontColor=#01579B;strokeWidth=2;" value="用户点击支付" vertex="1">
          <mxGeometry height="40" width="100" x="50" y="40" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-22" parent="HCb5TrEvjDDN4lMyEJhV-20" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#333333;strokeWidth=1;" value="填写支付信息" vertex="1">
          <mxGeometry height="40" width="120" x="40" y="100" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-23" parent="HCb5TrEvjDDN4lMyEJhV-20" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" value="提交支付请求" vertex="1">
          <mxGeometry height="40" width="120" x="40" y="160" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-24" parent="HCb5TrEvjDDN4lMyEJhV-20" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#333333;strokeWidth=1;" value="等待支付结果" vertex="1">
          <mxGeometry height="40" width="120" x="40" y="220" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-25" parent="HCb5TrEvjDDN4lMyEJhV-20" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#E1F5FE;strokeColor=#01579B;fontColor=#01579B;strokeWidth=2;" value="显示支付结果" vertex="1">
          <mxGeometry height="40" width="100" x="50" y="290" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-26" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-20" source="HCb5TrEvjDDN4lMyEJhV-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-27" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-20" source="HCb5TrEvjDDN4lMyEJhV-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-28" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-20" source="HCb5TrEvjDDN4lMyEJhV-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-29" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-20" source="HCb5TrEvjDDN4lMyEJhV-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-30" parent="1" style="swimlane;horizontal=0;startSize=30;fillColor=#E3F2FD;strokeColor=#1565C0;rounded=0;swimlaneFillColor=#FAFAFA;fontSize=12;fontStyle=1;" value="订单服务" vertex="1">
          <mxGeometry height="1300" width="340" x="260" y="40" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-31" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#333333;strokeWidth=1;" value="接收支付请求" vertex="1">
          <mxGeometry height="40" width="120" x="110" y="40" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-32" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#333333;strokeWidth=1;" value="参数校验" vertex="1">
          <mxGeometry height="40" width="120" x="110" y="100" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-33" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;" value="参数合法?" vertex="1">
          <mxGeometry height="50" width="120" x="110" y="160" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-34" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#FFEBEE;strokeColor=#C62828;fontColor=#C62828;strokeWidth=2;" value="参数错误" vertex="1">
          <mxGeometry height="40" width="70" x="250" y="165" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-35" parent="HCb5TrEvjDDN4lMyEJhV-30" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#E3F2FD;strokeColor=#1565C0;strokeWidth=2;" value="查询订单信息" vertex="1">
          <mxGeometry height="45" width="120" x="110" y="240" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-36" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;" value="订单可支付?" vertex="1">
          <mxGeometry height="50" width="120" x="110" y="310" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-37" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#FFEBEE;strokeColor=#C62828;fontColor=#C62828;strokeWidth=2;" value="订单状态异常" vertex="1">
          <mxGeometry height="40" width="80" x="250" y="315" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-38" parent="HCb5TrEvjDDN4lMyEJhV-30" style="swimlane;horizontal=1;startSize=25;fillColor=#FFF8E1;strokeColor=#F57F17;rounded=1;swimlaneFillColor=#FFFDE7;fontSize=11;fontStyle=1;" value="分布式锁保护区域（超时 30s，防重复支付）" vertex="1">
          <mxGeometry height="200" width="280" x="30" y="390" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-39" parent="HCb5TrEvjDDN4lMyEJhV-38" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;" value="获取分布式锁&#xa;(orderId)" vertex="1">
          <mxGeometry height="55" width="120" x="80" y="35" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-40" parent="HCb5TrEvjDDN4lMyEJhV-38" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#FFEBEE;strokeColor=#C62828;fontColor=#C62828;strokeWidth=2;" value="重复请求&#xa;拒绝处理" vertex="1">
          <mxGeometry height="40" width="120" x="80" y="145" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-41" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-38" source="HCb5TrEvjDDN4lMyEJhV-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-40" value="失败">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-42" parent="HCb5TrEvjDDN4lMyEJhV-30" style="swimlane;horizontal=1;startSize=20;fillColor=#E8F5E9;strokeColor=#2E7D32;rounded=1;swimlaneFillColor=#F1F8E9;fontSize=10;fontStyle=1;" value="@Transactional 事务" vertex="1">
          <mxGeometry height="120" width="220" x="60" y="620" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-43" parent="HCb5TrEvjDDN4lMyEJhV-42" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#E3F2FD;strokeColor=#1565C0;strokeWidth=2;" value="更新订单状态&#xa;状态=支付中" vertex="1">
          <mxGeometry height="40" width="120" x="50" y="30" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-44" parent="HCb5TrEvjDDN4lMyEJhV-42" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#E3F2FD;strokeColor=#1565C0;strokeWidth=2;" value="创建支付记录" vertex="1">
          <mxGeometry height="40" width="120" x="50" y="75" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-45" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-42" source="HCb5TrEvjDDN4lMyEJhV-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-46" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" value="调用支付服务" vertex="1">
          <mxGeometry height="40" width="120" x="110" y="770" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-47" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;" value="支付成功?" vertex="1">
          <mxGeometry height="50" width="120" x="110" y="940" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-48" parent="HCb5TrEvjDDN4lMyEJhV-30" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#E3F2FD;strokeColor=#1565C0;strokeWidth=2;" value="更新订单状态&#xa;状态=已支付" vertex="1">
          <mxGeometry height="45" width="120" x="110" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-49" parent="HCb5TrEvjDDN4lMyEJhV-30" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#FFEBEE;strokeColor=#C62828;strokeWidth=2;" value="更新订单状态&#xa;状态=支付失败" vertex="1">
          <mxGeometry height="40" width="80" x="250" y="945" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-50" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" value="发送异步 MQ&#xa;通知下游服务" vertex="1">
          <mxGeometry height="40" width="130" x="105" y="1090" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-51" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#E8F5E9;strokeColor=#2E7D32;fontColor=#2E7D32;strokeWidth=2;" value="返回成功" vertex="1">
          <mxGeometry height="35" width="100" x="120" y="1160" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-52" parent="HCb5TrEvjDDN4lMyEJhV-30" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#FFEBEE;strokeColor=#C62828;fontColor=#C62828;strokeWidth=2;" value="返回失败" vertex="1">
          <mxGeometry height="35" width="80" x="250" y="1160" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-53" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-54" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-55" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-34" value="否">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-56" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-35" value="是">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-57" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-58" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-37" value="否">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-59" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-39" value="是">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-60" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="HCb5TrEvjDDN4lMyEJhV-43" value="成功">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="230" y="453" />
              <mxPoint x="230" y="610" />
              <mxPoint x="170" y="610" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-61" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-62" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-48" value="是">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-63" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-49" value="否">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-64" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-65" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-66" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="285" y="1140" />
              <mxPoint x="290" y="1140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-67" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="1140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-68" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="610" />
              <mxPoint x="20" y="610" />
              <mxPoint x="20" y="1140" />
              <mxPoint x="290" y="1140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-69" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-30" source="HCb5TrEvjDDN4lMyEJhV-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="1140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-70" parent="1" style="swimlane;horizontal=0;startSize=30;fillColor=#F3E5F5;strokeColor=#7B1FA2;rounded=0;swimlaneFillColor=#FAFAFA;fontSize=12;fontStyle=1;" value="支付服务" vertex="1">
          <mxGeometry height="1300" width="360" x="620" y="40" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-71" parent="HCb5TrEvjDDN4lMyEJhV-70" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#333333;strokeWidth=1;" value="接收支付请求" vertex="1">
          <mxGeometry height="40" width="120" x="120" y="730" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-72" parent="HCb5TrEvjDDN4lMyEJhV-70" style="swimlane;horizontal=1;startSize=25;fillColor=#FFF8E1;strokeColor=#F57F17;rounded=1;swimlaneFillColor=#FFFDE7;fontSize=10;fontStyle=1;" value="重试机制（最多 3 次，退避时间 1s/2s/4s）" vertex="1">
          <mxGeometry height="200" width="280" x="40" y="790" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-73" parent="HCb5TrEvjDDN4lMyEJhV-72" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" value="调用第三方支付&#xa;(HTTP 超时 5s)" vertex="1">
          <mxGeometry height="45" width="120" x="80" y="35" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-74" parent="HCb5TrEvjDDN4lMyEJhV-72" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;" value="调用成功?" vertex="1">
          <mxGeometry height="45" width="120" x="80" y="95" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-75" parent="HCb5TrEvjDDN4lMyEJhV-72" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;" value="重试次数&lt;3?" vertex="1">
          <mxGeometry height="45" width="90" x="180" y="95" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-76" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-72" source="HCb5TrEvjDDN4lMyEJhV-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-77" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-72" source="HCb5TrEvjDDN4lMyEJhV-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#F57F17;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-75" value="否">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-78" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-72" source="HCb5TrEvjDDN4lMyEJhV-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#F57F17;strokeWidth=1;dashed=1;curved=1;" target="HCb5TrEvjDDN4lMyEJhV-73" value="是">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="225" y="150" />
              <mxPoint x="225" y="170" />
              <mxPoint x="40" y="170" />
              <mxPoint x="40" y="58" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-79" parent="HCb5TrEvjDDN4lMyEJhV-70" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#E8F5E9;strokeColor=#2E7D32;fontColor=#2E7D32;strokeWidth=2;" value="支付成功" vertex="1">
          <mxGeometry height="40" width="100" x="80" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-80" parent="HCb5TrEvjDDN4lMyEJhV-70" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#FFEBEE;strokeColor=#C62828;fontColor=#C62828;strokeWidth=2;" value="支付失败" vertex="1">
          <mxGeometry height="40" width="100" x="200" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-81" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-70" source="HCb5TrEvjDDN4lMyEJhV-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-73">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-82" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-70" source="HCb5TrEvjDDN4lMyEJhV-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-79" value="是">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="180" y="940" />
              <mxPoint x="130" y="940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-83" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-70" source="HCb5TrEvjDDN4lMyEJhV-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-80" value="否">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="265" y="940" />
              <mxPoint x="250" y="940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-84" parent="1" style="swimlane;horizontal=0;startSize=30;fillColor=#FFF8E1;strokeColor=#F57F17;rounded=0;swimlaneFillColor=#FAFAFA;fontSize=12;fontStyle=1;" value="通知服务" vertex="1">
          <mxGeometry height="1300" width="360" x="1000" y="40" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-85" parent="HCb5TrEvjDDN4lMyEJhV-84" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" value="消费 MQ 消息" vertex="1">
          <mxGeometry height="40" width="120" x="120" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-86" parent="HCb5TrEvjDDN4lMyEJhV-84" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" value="发送短信通知" vertex="1">
          <mxGeometry height="40" width="120" x="120" y="1110" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-87" parent="HCb5TrEvjDDN4lMyEJhV-84" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" value="发送邮件通知" vertex="1">
          <mxGeometry height="40" width="120" x="120" y="1170" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-88" parent="HCb5TrEvjDDN4lMyEJhV-84" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#E8F5E9;strokeColor=#2E7D32;fontColor=#2E7D32;strokeWidth=2;" value="通知完成" vertex="1">
          <mxGeometry height="35" width="100" x="130" y="1230" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-89" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-84" source="HCb5TrEvjDDN4lMyEJhV-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-90" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-84" source="HCb5TrEvjDDN4lMyEJhV-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-91" edge="1" parent="HCb5TrEvjDDN4lMyEJhV-84" source="HCb5TrEvjDDN4lMyEJhV-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-88">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-92" edge="1" parent="1" source="HCb5TrEvjDDN4lMyEJhV-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-31" value="HTTP">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-93" edge="1" parent="1" source="HCb5TrEvjDDN4lMyEJhV-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-71" value="HTTP">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-94" edge="1" parent="1" source="HCb5TrEvjDDN4lMyEJhV-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2E7D32;strokeWidth=1;" target="HCb5TrEvjDDN4lMyEJhV-47" value="返回">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="1090" />
              <mxPoint x="610" y="1005" />
              <mxPoint x="430" y="1005" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HCb5TrEvjDDN4lMyEJhV-95" edge="1" parent="1" source="HCb5TrEvjDDN4lMyEJhV-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7B1FA2;strokeWidth=2;dashed=1;" target="HCb5TrEvjDDN4lMyEJhV-85" value="MQ">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
